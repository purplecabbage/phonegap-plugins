<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />

    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

	<!-- iPad/iPhone specific css below, add after your main css >
	<link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />		
	<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />		
	-->
	<!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->
	<script type="text/javascript" charset="utf-8" src="cordova-1.5.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="PrintPlugin.js"></script>     
        
    <script type="text/javascript" charset="utf-8">

        function printIt(){
            
            //Get HTML string
            var html = document.getElementById("printHTML").innerHTML;
            
            /*
             Pass a DOM node (or HTML string) and - optionally - success function, error function, position of print dialog (iPad only).
             */
            window.plugins.printPlugin.print(html,
                function(result) {
                    alert("Printing successful");
                }, 
                function(result) {
                    if (!result.available){
                        alert("Printing is not available");
                    }
                    else{
                        //Localised error description
                        alert(result.error);
                    }
                }
                /*
                Add the following on an iPad to position the dialog
                ,
                {dialogOffset: {left: 500, top: 900}}
                */
            );
        }
        
        
        // If you want to prevent dragging, uncomment this section
        /*
        function preventBehavior(e) 
        { 
          e.preventDefault(); 
        };
        document.addEventListener("touchmove", preventBehavior, false);
        */
        
        /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
        see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
        for more details -jm */
        /*
        function handleOpenURL(url)
        {
            // TODO: do something with the url passed in.
        }
        */
        
        function onBodyLoad()
        {		
            document.addEventListener("deviceready",onDeviceReady,false);
        }
        
        /* When this function is called, PhoneGap has been initialized and is ready to roll */
        /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
        see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
        for more details -jm */
        function onDeviceReady()
        {
            // do your thing!
            //navigator.notification.alert("PhoneGap is working")
            /*
             Find out if printing is available. Use this for showing/hiding print buttons. 
             */
            window.plugins.printPlugin.isPrintingAvailable(
                function(result){
                    alert(result.available ? "Printing is available" : "Printing NOT available");
                }
            );
        }
    
    </script>
  </head>
  <body onload="onBodyLoad()">
  	  <h1>Printing</h1>
	  
      <button onclick="printIt()">Print the HTML below</button>
      
      <br /><br /><br />
      
      <div id="printHTML">
          
          <div style="color: red;">
              <p>Either the well was very deep, or she fell very slowly, for she had  plenty of time as she went down to look about her and to wonder what was  going to happen next. First, she tried to look down and make out what  she was coming to, but it was too dark to see anything; then she  looked at the sides of the well, and noticed that they were filled with  cupboards and book-shelves; here and there she saw maps and pictures  hung upon pegs. She took down a jar from one of the shelves as  she passed; it was labelled 'ORANGE MARMALADE', but to her great  disappointment it was empty: she did not like to drop the jar for fear  of killing somebody, so managed to put it into one of the cupboards as  she fell past it.</p>
          </div>
          
          <div style="color: green; page-break-before:always;">
              <p>In the Propontis, as far as I can learn, none of that peculiar substance called BRIT is to be found, the aliment of the right whale. But I have every reason to believe that the food of the sperm whale&mdash;squid or cuttle-fish&mdash;lurks at the bottom of that sea, because large creatures, but by no means the largest of that sort, have been found at its surface. If, then, you properly put these statements together, and reason upon them a bit, you will clearly perceive that, according to all human reasoning, Procopius's sea-monster, that for half a century stove the ships of a Roman Emperor, must in all probability have been a sperm whale.</p>                
          </div>
          
          
          <div style="color: blue; page-break-before:always;">
              <p>They were not their families, nor their wives, nor their servants; the relationship was peculiar, and so unlike anything known to us that it is most difficult to describe.  All property among the green Martians is owned in common by the community, except the personal weapons, ornaments and sleeping silks and furs of the individuals.  These alone can one claim undisputed right to, nor may he accumulate more of these than are required for his actual needs.  The surplus he holds merely as custodian, and it is passed on to the younger members of the community as necessity demands.</p>
              
          </div>
          
      </div>
  </body>
</html>
